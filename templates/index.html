<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8" />
  <title>ForCreators ‚Äì Segmentation & Pricing</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="ForCreators: calcola il tuo segmento social, il piano ideale e i prezzi suggeriti per creator e agenzie." />
  <style>
    :root {
      --bg: #f3f4f6;
      --blue: #6366f1;
      --blue-dark: #4f46e5;
      --accent: #ec4899;
      --text-main: #0f172a;
      --text-muted: #6b7280;
      --card-bg: #ffffff;
      --border: #e5e7eb;
      --radius-xl: 24px;
      --radius-lg: 16px;
      --shadow: 0 18px 40px rgba(15, 23, 42, 0.16);
    }
    * { box-sizing: border-box; }
    body {
      margin: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: radial-gradient(circle at top left, #eef2ff 0, var(--bg) 40%, #fdf2ff 100%);
      color: var(--text-main);
      scroll-behavior: smooth;
    }

    /* HEADER + NAV UNICO */
    .top-bar {
      position: sticky;
      top: 0;
      z-index: 10;
      backdrop-filter: blur(12px);
      background: linear-gradient(to bottom, rgba(245,247,251,0.9), rgba(245,247,251,0.75));
      border-bottom: 1px solid rgba(148,163,184,0.3);
    }
    .top-inner {
      max-width: 1100px;
      margin: 0 auto;
      padding: 12px 20px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 12px;
    }
    .brand {
      display: flex;
      align-items: center;
      gap: 10px;
    }
    .logo-svg {
      flex-shrink: 0;
      filter: drop-shadow(0 4px 14px rgba(15,23,42,0.22));
    }
    .brand-text {
      display: flex;
      flex-direction: column;
    }
    .brand-name {
      font-size: 1.05rem;
      font-weight: 700;
      letter-spacing: 0;
      color: var(--blue-dark);
    }
    .brand-sub {
      font-size: 0.78rem;
      color: var(--text-muted);
    }
    .top-right {
      display: flex;
      align-items: center;
      gap: 12px;
    }
    .top-nav {
      display: flex;
      align-items: center;
      gap: 12px;
      font-size: 0.82rem;
      color: var(--text-muted);
      flex-wrap: wrap;
    }
    .top-nav a {
      padding: 4px 8px;
      border-radius: 999px;
      text-decoration: none;
      color: inherit;
    }
    .top-nav a.active {
      background: rgba(99,102,241,0.12);
      color: var(--blue-dark);
      font-weight: 600;
    }
    .top-pill {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 4px 10px;
      border-radius: 999px;
      background: rgba(99,102,241,0.08);
      border: 1px solid rgba(99,102,241,0.18);
      font-size: 0.75rem;
      color: var(--blue-dark);
      text-transform: uppercase;
      letter-spacing: 0.07em;
    }
    .top-pill-dot {
      width: 8px;
      height: 8px;
      border-radius: 999px;
      background: #22c55e;
      box-shadow: 0 0 0 4px rgba(34,197,94,0.35);
    }

    @media (max-width: 900px) {
      .top-inner {
        flex-direction: column;
        align-items: flex-start;
      }
      .top-right {
        width: 100%;
        flex-wrap: wrap;
        justify-content: space-between;
      }
      .top-nav {
        width: 100%;
      }
    }

    .main {
      max-width: 1100px;
      margin: 24px auto 32px;
      padding: 0 20px;
    }

    /* ELEMENTI COMUNI */
    .pill {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 4px 10px;
      border-radius: 999px;
      background: rgba(15,23,42,0.03);
      border: 1px solid rgba(148,163,184,0.5);
      font-size: 0.8rem;
      color: var(--blue-dark);
      margin-bottom: 10px;
    }
    .pill-dot {
      width: 6px;
      height: 6px;
      border-radius: 999px;
      background: var(--accent);
    }
    .hero-title, .page-title {
      font-size: clamp(2.1rem,4vw,2.5rem);
      line-height: 1.1;
      font-weight: 800;
      letter-spacing: -0.05em;
      margin-bottom: 10px;
      color: var(--text-main);
    }
    .page-title {
      margin-top: 40px;
    }
    .hero-highlight {
      background: linear-gradient(120deg, var(--blue), var(--accent));
      -webkit-background-clip: text;
      color: transparent;
    }
    .hero-subtitle, .page-subtitle, .section-text {
      font-size: 0.95rem;
      color: var(--text-muted);
      max-width: 40rem;
      margin-bottom: 18px;
    }
    .section-title {
      margin: 22px 0 8px;
      font-size: 1rem;
      font-weight: 600;
      color: var(--blue-dark);
      display: flex;
      align-items: center;
      gap: 8px;
    }
    .badge {
      font-size: 0.7rem;
      padding: 2px 7px;
      border-radius: 999px;
      border: 1px solid rgba(148,163,184,0.7);
      text-transform: uppercase;
      letter-spacing: 0.08em;
      color: var(--text-muted);
    }
    .hidden { display: none; }

    .card {
      position: relative;
      background: radial-gradient(circle at top left,#eef2ff 0,#ffffff 40%,#ffffff 100%);
      border-radius: var(--radius-xl);
      padding: 18px 18px 16px;
      border: 1px solid rgba(148,163,184,0.3);
      box-shadow: var(--shadow);
      overflow: hidden;
    }
    .card::before {
      content: "";
      position: absolute;
      inset: -60%;
      background:
        radial-gradient(circle at top left,rgba(99,102,241,0.18),transparent 60%),
        radial-gradient(circle at bottom right,rgba(236,72,153,0.22),transparent 65%);
      opacity: 0.8;
      pointer-events: none;
    }
    .card-inner { position: relative; z-index: 1; }

    .dash-card {
      background: #ffffff;
      border-radius: var(--radius-lg);
      border: 1px solid rgba(148,163,184,0.5);
      padding: 10px 12px;
      box-shadow: 0 10px 22px rgba(15,23,42,0.08);
      font-size: 0.82rem;
    }

    .field-group {
      border-radius: var(--radius-lg);
      background: rgba(255,255,255,0.9);
      border: 1px solid rgba(148,163,184,0.45);
      padding: 12px 12px 10px;
      margin-bottom: 10px;
    }
    .field-group h3 {
      margin: 0 0 6px;
      font-size: 0.9rem;
      color: var(--blue-dark);
    }
    .field {
      display: flex;
      flex-direction: column;
      gap: 3px;
      margin-bottom: 7px;
      font-size: 0.8rem;
    }
    .field-label {
      font-weight: 500;
      color: var(--text-main);
    }
    .field-hint {
      font-size: 0.74rem;
      color: var(--text-muted);
    }
    .field input,
    .field select,
    .field textarea {
      border-radius: 999px;
      border: 1px solid var(--border);
      padding: 7px 12px;
      font-size: 0.8rem;
      outline: none;
      background: #ffffff;
      transition: border-color 0.15s, box-shadow 0.15s;
    }
    .field textarea {
      border-radius: 10px;
      resize: vertical;
      min-height: 90px;
    }
    .field input:focus,
    .field select:focus,
    .field textarea:focus {
      border-color: var(--blue);
      box-shadow: 0 0 0 1px rgba(99,102,241,0.65);
    }

    .grid-2 {
      display: grid;
      grid-template-columns: repeat(2,minmax(0,1fr));
      gap: 8px;
    }
    @media (max-width: 600px) {
      .grid-2 { grid-template-columns: 1fr; }
    }

    .tabs {
      display: flex;
      gap: 6px;
      margin-bottom: 8px;
      background: rgba(148,163,184,0.12);
      border-radius: 999px;
      padding: 3px;
    }
    .tab {
      flex: 1;
      font-size: 0.8rem;
      padding: 5px 0;
      border-radius: 999px;
      text-align: center;
      cursor: pointer;
      border: none;
      background: transparent;
      color: var(--text-muted);
      font-weight: 500;
    }
    .tab.active {
      background: #ffffff;
      color: var(--blue-dark);
      box-shadow: 0 1px 4px rgba(15,23,42,0.12);
    }

    .primary-button {
      border: none;
      cursor: pointer;
      border-radius: 999px;
      padding: 8px 14px;
      font-size: 0.82rem;
      font-weight: 600;
      display: inline-flex;
      align-items: center;
      gap: 6px;
      background: linear-gradient(135deg,var(--blue),var(--blue-dark));
      color: #ffffff;
      box-shadow: 0 12px 26px rgba(99,102,241,0.55);
      transition: transform 0.1s, box-shadow 0.1s, filter 0.1s;
    }
    .primary-button:hover {
      transform: translateY(-1px);
      filter: brightness(1.05);
      box-shadow: 0 16px 32px rgba(99,102,241,0.65);
    }
    .primary-button:active {
      transform: translateY(0);
      box-shadow: 0 6px 16px rgba(99,102,241,0.5);
    }
    .primary-button .icon { font-size: 0.9rem; }

    .status-text {
      font-size: 0.76rem;
      color: var(--text-muted);
      min-height: 1em;
      margin-top: 3px;
    }
    .status-text.error { color: #b91c1c; }
    .status-text.success { color: #15803d; }

    .hero {
      display: grid;
      grid-template-columns: minmax(0,1.25fr) minmax(0,1fr);
      gap: 24px;
      align-items: stretch;
    }
    @media (max-width: 900px) {
      .hero { grid-template-columns: 1fr; }
    }

    .hero-bullets {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(160px,1fr));
      gap: 10px;
      margin-bottom: 14px;
    }
    .hero-bullet {
      display: flex;
      gap: 8px;
      font-size: 0.84rem;
      color: var(--text-muted);
    }
    .hero-bullet-icon {
      margin-top: 3px;
      width: 18px;
      height: 18px;
      border-radius: 999px;
      background: rgba(99,102,241,0.08);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 0.7rem;
      color: var(--blue);
    }
    .hero-footnote {
      font-size: 0.78rem;
      color: var(--text-muted);
      display: flex;
      align-items: center;
      gap: 8px;
      margin-top: 8px;
    }
    .hero-footnote-badge {
      padding: 2px 7px;
      border-radius: 999px;
      background: #0f172a;
      color: #e5e7eb;
      font-size: 0.7rem;
      text-transform: uppercase;
      letter-spacing: 0.07em;
    }

    .dash-grid {
      display: grid;
      grid-template-columns: minmax(0,1.1fr) minmax(0,0.9fr);
      gap: 12px;
    }
    @media (max-width: 900px) {
      .dash-grid { grid-template-columns: 1fr; }
    }

    .dash-highlight {
      font-size: 1.1rem;
      font-weight: 700;
      color: var(--blue-dark);
      margin-bottom: 4px;
    }
    .pill-tag {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      border-radius: 999px;
      padding: 3px 9px;
      font-size: 0.74rem;
      background: rgba(15,23,42,0.03);
      border: 1px solid rgba(148,163,184,0.6);
      color: var(--text-muted);
    }
    .price-big {
      font-size: 1.1rem;
      font-weight: 700;
      color: var(--blue-dark);
    }
    .price-period {
      font-size: 0.8rem;
      color: var(--text-muted);
    }
    .price-note {
      font-size: 0.74rem;
      color: var(--text-muted);
      margin-top: 4px;
    }
    .media-kit {
      font-size: 0.8rem;
    }
    .media-kit-row {
      display: flex;
      justify-content: space-between;
      padding: 4px 0;
      border-bottom: 1px solid #e5e7eb;
    }
    .media-kit-row:last-child {
      border-bottom: none;
    }
    .media-kit-label {
      color: var(--text-muted);
    }
    .media-kit-value {
      font-weight: 500;
      color: var(--text-main);
    }

    .tips-list {
      margin: 8px 0 0;
      padding-left: 18px;
      font-size: 0.8rem;
      color: var(--text-muted);
    }
    .tips-list li {
      margin-bottom: 4px;
    }

    /* PRICING SECTION */
    .plans-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit,minmax(220px,1fr));
      gap: 16px;
    }
    .plan-card {
      background: #ffffff;
      border-radius: var(--radius-lg);
      border: 1px solid rgba(148,163,184,0.5);
      padding: 14px 14px 12px;
      box-shadow: 0 12px 26px rgba(15,23,42,0.07);
      font-size: 0.85rem;
    }
    .plan-label {
      font-size: 0.8rem;
      text-transform: uppercase;
      letter-spacing: 0.08em;
      color: var(--blue-dark);
      margin-bottom: 4px;
    }
    .plan-name {
      font-size: 1.2rem;
      font-weight: 700;
      margin-bottom: 4px;
      color: var(--text-main);
    }
    .plan-tagline {
      font-size: 0.8rem;
      color: var(--text-muted);
      margin-bottom: 6px;
    }
    .plan-price-main {
      font-size: 1.1rem;
      font-weight: 700;
      color: var(--blue-dark);
    }
    .plan-price-sub {
      font-size: 0.78rem;
      color: var(--text-muted);
    }
    .plan-line {
      font-size: 0.78rem;
      color: var(--text-muted);
      margin-top: 6px;
    }
    .plan-list {
      margin: 8px 0 0;
      padding-left: 18px;
      font-size: 0.8rem;
      color: var(--text-muted);
    }
    .plan-list li {
      margin-bottom: 4px;
    }

    /* COME FUNZIONA */
    .steps-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit,minmax(250px,1fr));
      gap: 16px;
      margin-bottom: 26px;
    }
    .step-card {
      background: #ffffff;
      border-radius: var(--radius-lg);
      border: 1px solid rgba(148,163,184,0.5);
      padding: 14px 14px 12px;
      box-shadow: 0 10px 22px rgba(15,23,42,0.06);
      font-size: 0.85rem;
    }
    .step-number {
      width: 26px;
      height: 26px;
      border-radius: 999px;
      background: rgba(99,102,241,0.12);
      color: var(--blue-dark);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 0.8rem;
      font-weight: 600;
      margin-bottom: 6px;
    }
    .step-title {
      font-weight: 600;
      margin-bottom: 4px;
      color: var(--text-main);
    }
    .step-text {
      font-size: 0.82rem;
      color: var(--text-muted);
    }

    /* PER BRAND */
    .grid-two {
      display: grid;
      grid-template-columns: minmax(0,1.2fr) minmax(0,1fr);
      gap: 18px;
    }
    @media (max-width: 900px) {
      .grid-two { grid-template-columns: 1fr; }
    }
    .card-simple {
      background: #ffffff;
      border-radius: var(--radius-lg);
      border: 1px solid rgba(148,163,184,0.5);
      padding: 14px 14px 12px;
      box-shadow: 0 12px 26px rgba(15,23,42,0.06);
      font-size: 0.85rem;
    }
    .card-simple h2 {
      margin: 0 0 6px;
      font-size: 1rem;
      color: var(--blue-dark);
    }
    .card-simple p {
      margin: 0 0 8px;
      font-size: 0.85rem;
      color: var(--text-muted);
    }
    .card-simple ul {
      margin: 8px 0 0;
      padding-left: 18px;
      font-size: 0.82rem;
      color: var(--text-muted);
    }
    .card-simple ul li {
      margin-bottom: 4px;
    }

    /* FAQ */
    .faq-list {
      display: grid;
      grid-template-columns: minmax(0,1fr);
      gap: 10px;
    }
    .faq-item {
      background: #ffffff;
      border-radius: var(--radius-lg);
      border: 1px solid rgba(148,163,184,0.5);
      padding: 10px 12px;
      box-shadow: 0 8px 18px rgba(15,23,42,0.06);
      font-size: 0.85rem;
    }
    .faq-q {
      font-weight: 600;
      margin-bottom: 4px;
      color: var(--text-main);
    }
    .faq-a {
      font-size: 0.83rem;
      color: var(--text-muted);
    }

    /* CONTATTI */
    .contact-grid {
      display: grid;
      grid-template-columns: minmax(0,1.1fr) minmax(0,0.9fr);
      gap: 18px;
    }
    @media (max-width: 900px) {
      .contact-grid { grid-template-columns: 1fr; }
    }

    footer {
      text-align: center;
      font-size: 0.74rem;
      color: var(--text-muted);
      padding: 10px 20px 18px;
    }
  </style>
</head>
<body>
<header class="top-bar">
  <div class="top-inner">
    <div class="brand">
      <svg width="40" height="40" viewBox="0 0 40 40" class="logo-svg" aria-hidden="true">
        <defs>
          <linearGradient id="fcGradient" x1="0" y1="0" x2="1" y2="1">
            <stop offset="0%" stop-color="#6366f1" />
            <stop offset="100%" stop-color="#ec4899" />
          </linearGradient>
        </defs>
        <rect x="0" y="0" width="40" height="40" rx="12" fill="url(#fcGradient)" />
        <text
          x="50%"
          y="50%"
          text-anchor="middle"
          dominant-baseline="middle"
          fill="#ffffff"
          font-size="16"
          font-family="system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif"
          font-weight="700">
          fc
        </text>
      </svg>
      <div class="brand-text">
        <div class="brand-name">ForCreators</div>
        <div class="brand-sub">Da profilo casual a top agency, con un solo strumento.</div>
      </div>
    </div>
    <div class="top-right">
      <nav class="top-nav">
        <a href="#dashboard" class="active">Dashboard</a>
        <a href="#pricing">Pricing</a>
        <a href="#come-funziona">Come funziona</a>
        <a href="#per-brand">Per brand</a>
        <a href="#faq">FAQ</a>
        <a href="#contatti">Contatti</a>
      </nav>
      <div class="top-pill">
        <span class="top-pill-dot"></span>
        <span>Pricing intelligence per social profile</span>
      </div>
    </div>
  </div>
</header>

<main class="main">

  <!-- DASHBOARD / HERO -->
  <section id="dashboard" class="hero">
    <div>
      <div class="pill">
        <span class="pill-dot"></span>
        <span>Casual &nbsp;¬∑&nbsp; Emergente &nbsp;¬∑&nbsp; Pro &nbsp;¬∑&nbsp; Agenzia</span>
      </div>
      <h1 class="hero-title">
        Scopri quanto ‚Äúvali‚Äù
        <span class="hero-highlight">come profilo social</span>.
      </h1>
      <p class="hero-subtitle">
        Inserisci i tuoi follower e lascia che il sistema ti classifichi in
        <strong>Casual, Emergente, Creator Pro o Top Agenzia</strong> con il piano ideale:
        gratuito, 4,90‚Ç¨, 9,90‚Ç¨ o 99‚Äì399‚Ç¨ al mese. In pi√π ottieni prezzi suggeriti e consigli pratici
        su come migliorare il tuo profilo.
      </p>
      <div class="hero-bullets">
        <div class="hero-bullet">
          <div class="hero-bullet-icon">‚ë†</div>
          <div>Registrati con email, piattaforma principale e follower complessivi.</div>
        </div>
        <div class="hero-bullet">
          <div class="hero-bullet-icon">‚ë°</div>
          <div>Il sistema calcola il tuo segmento e il piano mensile / annuale ideale.</div>
        </div>
        <div class="hero-bullet">
          <div class="hero-bullet-icon">‚ë¢</div>
          <div>Genera un media kit con prezzi suggeriti per post, stories e pacchetti.</div>
        </div>
      </div>
      <div class="hero-footnote">
        <span class="hero-footnote-badge">Per tutti</span>
        <span>Profili ‚Äúsport‚Äù, micro influencer, creator pro e agenzie con pi√π account.</span>
      </div>
    </div>

    <div>
      <div class="card">
        <div class="card-inner">
          <div class="card-title" style="font-size:1rem;font-weight:600;color:var(--blue-dark);margin-bottom:4px;">
            Accesso
          </div>
          <div class="card-sub" style="font-size:0.84rem;color:var(--text-muted);margin-bottom:12px;">
            Registrazione rapida oppure login se hai gi√† creato il tuo profilo.
          </div>

          <div class="tabs">
            <button class="tab active" id="tab-signup">Registrazione</button>
            <button class="tab" id="tab-login">Login</button>
          </div>

          <!-- SIGNUP -->
          <div id="signupPanel">
            <div class="field-group">
              <h3>Dati account</h3>
              <div class="field">
                <span class="field-label">Email</span>
                <input type="email" id="suEmail" placeholder="tu@email.com" />
              </div>
              <div class="field">
                <span class="field-label">Password</span>
                <input type="password" id="suPassword" placeholder="Minimo 6 caratteri" />
              </div>
            </div>

            <div class="field-group">
              <h3>Profilo social principale</h3>
              <div class="grid-2">
                <div class="field">
                  <span class="field-label">Piattaforma</span>
                  <select id="suPlatform">
                    <option value="instagram">Instagram</option>
                    <option value="tiktok">TikTok</option>
                    <option value="youtube">YouTube</option>
                    <option value="twitch">Twitch</option>
                    <option value="altro">Altro</option>
                  </select>
                </div>
                <div class="field">
                  <span class="field-label">Username</span>
                  <input type="text" id="suUsername" placeholder="@il_tuo_handle" />
                </div>
              </div>
              <div class="grid-2">
                <div class="field">
                  <span class="field-label">Follower complessivi</span>
                  <span class="field-hint">Somma approssimativa tra tutte le piattaforme.</span>
                  <input type="number" id="suFollowers" placeholder="Es. 12500" min="0" />
                </div>
                <div class="field">
                  <span class="field-label">Profili che gestisci</span>
                  <span class="field-hint">Per agenzie / team (altrimenti lascia 1).</span>
                  <input type="number" id="suProfiles" placeholder="1" min="1" value="1" />
                </div>
              </div>
            </div>

            <button class="primary-button" id="signupButton">
              <span class="icon">üöÄ</span>
              <span>Calcola segmento e crea account</span>
            </button>
            <p id="signupStatus" class="status-text"></p>
          </div>

          <!-- LOGIN -->
          <div id="loginPanel" class="hidden">
            <div class="field-group">
              <h3>Login</h3>
              <div class="field">
                <span class="field-label">Email</span>
                <input type="email" id="liEmail" placeholder="tu@email.com" />
              </div>
              <div class="field">
                <span class="field-label">Password</span>
                <input type="password" id="liPassword" placeholder="La tua password" />
              </div>
            </div>
            <button class="primary-button" id="loginButton">
              <span class="icon">üîë</span>
              <span>Entra nel tuo profilo</span>
            </button>
            <p id="loginStatus" class="status-text"></p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- DASHBOARD DETTAGLI + MEDIA KIT + TIP -->
  <section id="dashboard-details" class="hidden">
    <div class="section-title" style="margin-top:26px;">
      <span>La tua posizione nel mondo social</span>
      <span class="badge" id="dashBadge">Profilo</span>
    </div>

    <div class="dash-grid">
      <div class="dash-card">
        <h3>Segmento & piano consigliato</h3>
        <div class="dash-highlight" id="segmentLabel">-</div>
        <div class="pill-tag" id="segmentTag">
          <span id="segmentName">-</span>
        </div>
        <p id="segmentDesc" style="margin:6px 0 10px; font-size:0.8rem; color:var(--text-muted);">
          -
        </p>
        <div style="display:flex; gap:16px; align-items: baseline; flex-wrap: wrap;">
          <div>
            <div class="price-big" id="priceMonthly">-</div>
            <div class="price-period">al mese</div>
          </div>
          <div>
            <div class="price-big" id="priceYearly">-</div>
            <div class="price-period">all'anno</div>
          </div>
        </div>
        <div class="price-note" id="priceNote"></div>
      </div>

      <div class="dash-card">
        <h3>Dati di base profilo</h3>
        <div class="media-kit">
          <div class="media-kit-row">
            <div class="media-kit-label">Email</div>
            <div class="media-kit-value" id="infoEmail">-</div>
          </div>
          <div class="media-kit-row">
            <div class="media-kit-label">Piattaforma</div>
            <div class="media-kit-value" id="infoPlatform">-</div>
          </div>
          <div class="media-kit-row">
            <div class="media-kit-label">Username</div>
            <div class="media-kit-value" id="infoUsername">-</div>
          </div>
          <div class="media-kit-row">
            <div class="media-kit-label">Follower complessivi</div>
            <div class="media-kit-value" id="infoFollowers">-</div>
          </div>
          <div class="media-kit-row">
            <div class="media-kit-label">Profili gestiti</div>
            <div class="media-kit-value" id="infoProfiles">-</div>
          </div>
        </div>
        <div style="margin-top:10px;">
          <button class="primary-button" id="mediaKitButton">
            <span class="icon">üìÑ</span>
            <span>Genera media kit con prezzi suggeriti</span>
          </button>
          <p id="mediaKitStatus" class="status-text"></p>
        </div>
      </div>
    </div>

    <div class="section-title" style="margin-top:18px;">
      <span>Media kit & prezzi suggeriti</span>
      <span class="badge">Anteprima</span>
    </div>

    <div class="dash-card" id="mediaKitCard">
      <h3 id="mkTitle">Nessun media kit generato.</h3>
      <p id="mkSubtitle" style="font-size:0.8rem; color:var(--text-muted); margin-top:2px;">
        Dopo aver generato il media kit vedrai qui i numeri chiave e i prezzi suggeriti.
      </p>

      <div id="mkContent" class="media-kit hidden">
        <div class="media-kit-row">
          <div class="media-kit-label">Profilo</div>
          <div class="media-kit-value" id="mkProfile">-</div>
        </div>
        <div class="media-kit-row">
          <div class="media-kit-label">Segmento</div>
          <div class="media-kit-value" id="mkSegment">-</div>
        </div>
        <div class="media-kit-row">
          <div class="media-kit-label">Follower</div>
          <div class="media-kit-value" id="mkFollowers">-</div>
        </div>
        <div class="media-kit-row">
          <div class="media-kit-label">Views post stimate</div>
          <div class="media-kit-value" id="mkPostViews">-</div>
        </div>
        <div class="media-kit-row">
          <div class="media-kit-label">Views stories stimate</div>
          <div class="media-kit-value" id="mkStoryViews">-</div>
        </div>
        <div style="margin-top:10px; font-weight:600; font-size:0.9rem;">
          Prezzi suggeriti (EUR)
        </div>
        <div class="media-kit-row">
          <div class="media-kit-label">Post singolo</div>
          <div class="media-kit-value" id="mkPostPrice">-</div>
        </div>
        <div class="media-kit-row">
          <div class="media-kit-label">Story singola</div>
          <div class="media-kit-value" id="mkStoryPrice">-</div>
        </div>
        <div class="media-kit-row">
          <div class="media-kit-label">Pacchetto post + 3 stories</div>
          <div class="media-kit-value" id="mkBundlePrice">-</div>
        </div>
      </div>
    </div>

    <div class="section-title" style="margin-top:18px;">
      <span>Consigli per il tuo profilo</span>
      <span class="badge">Suggerimenti</span>
    </div>

    <div class="dash-card" id="tipsCard">
      <h3 id="tipsLevel">Nessun profilo selezionato.</h3>
      <p id="tipsSummary" style="font-size:0.8rem; color:var(--text-muted); margin-top:2px;">
        Crea o carica un account per vedere suggerimenti personalizzati su come migliorare il profilo.
      </p>
      <ul id="tipsList" class="tips-list"></ul>
    </div>
  </section>

  <!-- PRICING -->
  <section id="pricing">
    <h2 class="page-title">Piani ForCreators</h2>
    <p class="page-subtitle">
      Quattro livelli, stessi numeri in tutto il mondo: da profilo ‚Äúsport‚Äù fino ad agenzia che
      gestisce pi√π account. Il segmento viene calcolato automaticamente in base ai follower e ai
      profili gestiti.
    </p>

    <div class="plans-grid">
      <div class="plan-card">
        <div class="plan-label">Sotto 2.000 follower</div>
        <div class="plan-name">Casual ‚Äì profilo "sport"</div>
        <div class="plan-tagline">
          Per chi usa i social per hobby e vuole una base minima per le prime collaborazioni.
        </div>
        <div class="plan-price-main">0 ‚Ç¨</div>
        <div class="plan-price-sub">al mese ¬∑ 0 ‚Ç¨ all'anno</div>
        <div class="plan-line">
          Accesso gratuito a media kit, stime di view e prezzi consigliati.
        </div>
        <ul class="plan-list">
          <li>Per profili sotto i 2.000 follower totali.</li>
          <li>Stime di views per post e stories.</li>
          <li>Prezzo consigliato per singolo post/story.</li>
        </ul>
      </div>

      <div class="plan-card">
        <div class="plan-label">2.000 ‚Äì 9.999 follower</div>
        <div class="plan-name">Emergente</div>
        <div class="plan-tagline">
          Per creator che iniziano a lavorare con brand e vogliono numeri chiari.
        </div>
        <div class="plan-price-main">4,90 ‚Ç¨</div>
        <div class="plan-price-sub">al mese ¬∑ 49 ‚Ç¨ all'anno</div>
        <div class="plan-line">
          Ideale per i primi contratti strutturati e per dare un listino chiaro ai brand.
        </div>
        <ul class="plan-list">
          <li>Media kit completo con dati chiave.</li>
          <li>Prezzi consigliati per post, stories e pacchetti.</li>
          <li>Consigli pratici per crescere verso il livello Pro.</li>
        </ul>
      </div>

      <div class="plan-card">
        <div class="plan-label">10.000 ‚Äì 199.999 follower</div>
        <div class="plan-name">Creator Pro</div>
        <div class="plan-tagline">
          Per chi vive (o quasi) di contenuti e ha pi√π collaborazioni ogni mese.
        </div>
        <div class="plan-price-main">9,90 ‚Ç¨</div>
        <div class="plan-price-sub">al mese ¬∑ 99 ‚Ç¨ all'anno</div>
        <div class="plan-line">
          Pensato per negoziare meglio, automatizzare il listino e presentarsi ai brand in modo
          professionale.
        </div>
        <ul class="plan-list">
          <li>Media kit avanzato con stime di performance.</li>
          <li>Prezzi consigliati ottimizzati per piattaforma.</li>
          <li>Suggerimenti per pacchetti e diritti d'uso.</li>
        </ul>
      </div>

      <div class="plan-card">
        <div class="plan-label">Da 200.000 follower o pi√π profili</div>
        <div class="plan-name">Top Agenzia</div>
        <div class="plan-tagline">
          Per agenzie, network e team che gestiscono pi√π profili importanti.
        </div>
        <div class="plan-price-main">99 ‚Äì 399 ‚Ç¨</div>
        <div class="plan-price-sub">al mese ¬∑ senza vincolo annuale</div>
        <div class="plan-line">
          Il prezzo varia in base al numero di profili gestiti:
        </div>
        <ul class="plan-list">
          <li>99 ‚Ç¨/mese fino a 2 profili.</li>
          <li>199 ‚Ç¨/mese fino a 3 profili.</li>
          <li>299 ‚Ç¨/mese fino a 4 profili.</li>
          <li>399 ‚Ç¨/mese da 5 profili in su.</li>
        </ul>
      </div>
    </div>
  </section>

  <!-- COME FUNZIONA -->
  <section id="come-funziona">
    <h2 class="page-title">Come funziona ForCreators</h2>
    <p class="page-subtitle">
      In 3 passi trasformi i tuoi follower in un segmento chiaro, un media kit ordinato e un listino
      suggerito coerente con quello che si trova online.
    </p>

    <div class="steps-grid">
      <div class="step-card">
        <div class="step-number">1</div>
        <div class="step-title">Registrazione e dati base</div>
        <p class="step-text">
          Inserisci email, piattaforma principale, username, follower complessivi e quanti profili
          gestisci (se sei un‚Äôagenzia). Bastano pochi secondi.
        </p>
      </div>
      <div class="step-card">
        <div class="step-number">2</div>
        <div class="step-title">Calcolo del segmento</div>
        <p class="step-text">
          Il motore classifica il tuo account in <strong>Casual, Emergente, Creator Pro o Top Agenzia</strong>,
          usando soglie chiare di follower e profili gestiti. In base al segmento ti assegna il piano
          corretto (gratis, 4,90‚Ç¨, 9,90‚Ç¨ o 99‚Äì399‚Ç¨).
        </p>
      </div>
      <div class="step-card">
        <div class="step-number">3</div>
        <div class="step-title">Media kit e prezzi suggeriti</div>
        <p class="step-text">
          In un clic generi il media kit: stime di views per post e stories, pi√π
          <strong>prezzi suggeriti precisi</strong> per post singolo, story singola e pacchetto post + 3 stories,
          adattati alla piattaforma (Instagram, TikTok, YouTube, Twitch).
        </p>
      </div>
    </div>

    <h3 class="section-title">
      <span>Da dove arrivano i numeri?</span>
    </h3>
    <p class="section-text">
      Le stime di views e i prezzi suggeriti si basano su percentuali e regole
      <strong>ampiamente diffuse online</strong> (view-rate medi e indicazioni tipo ‚Äú10 ‚Ç¨/1.000 follower‚Äù
      per post Instagram), adattate per segmento e piattaforma. L‚Äôobiettivo non √® imporre tariffe,
      ma darti una base realistica da cui partire per le tue trattative.
    </p>
  </section>

  <!-- PER BRAND -->
  <section id="per-brand">
    <h2 class="page-title">Per brand e agenzie</h2>
    <p class="page-subtitle">
      ForCreators aiuta i brand a capire se le richieste economiche dei creator sono allineate a numeri
      realistici di follower e views. Non sostituisce una negoziazione, ma mette tutti sullo stesso piano.
    </p>

    <div class="grid-two">
      <div class="card-simple">
        <h2>Perch√© usarlo lato brand</h2>
        <p>
          Quando un creator ti propone una fee, √® difficile capire se il prezzo √® fuori mercato o meno.
          ForCreators traduce follower e piattaforma in una fascia di prezzo coerente con i benchmark pi√π diffusi online.
        </p>
        <ul>
          <li>Verifica rapida: numero di follower ‚Üí segmento ‚Üí fascia di prezzo suggerita.</li>
          <li>Stime di views per post e stories per capire il costo per mille impression.</li>
          <li>Trasparenza verso il creator: stessi numeri, stessa base di partenza.</li>
        </ul>
      </div>

      <div class="card-simple">
        <h2>Come integrarlo nel tuo flusso</h2>
        <p>
          Puoi richiedere ai creator di inviarti lo screenshot del loro pannello ForCreators insieme al
          media kit o includere ForCreators nel form di candidatura alle tue campagne.
        </p>
        <ul>
          <li>Chiedi email e username con cui sono registrati su ForCreators.</li>
          <li>Valuta il segmento: Casual, Emergente, Creator Pro o Top Agenzia.</li>
          <li>Confronta le fee richieste con i prezzi suggeriti, prima di fare una controproposta.</li>
        </ul>
      </div>
    </div>
  </section>

  <!-- FAQ -->
  <section id="faq">
    <h2 class="page-title">FAQ</h2>
    <p class="page-subtitle">
      Alcune delle domande pi√π frequenti su ForCreators. I numeri sono indicativi ma si basano su logiche
      e range molto usati nel settore.
    </p>

    <div class="faq-list">
      <div class="faq-item">
        <div class="faq-q">ForCreators garantisce che i brand pagheranno esattamente questi prezzi?</div>
        <div class="faq-a">
          No. ForCreators ti d√† <strong>una base di riferimento</strong> coerente con i numeri pi√π diffusi
          online (CPM, ‚Ç¨/1.000 follower, ecc.). Ogni collaborazione resta soggetta a trattativa diretta
          tra creator e brand.
        </div>
      </div>

      <div class="faq-item">
        <div class="faq-q">Da dove vengono i fattori di moltiplicazione per views e prezzi?</div>
        <div class="faq-a">
          Usiamo <strong>percentuali medie di view-rate</strong> (post e stories) e regole tipo ‚Äú10 ‚Ç¨/1.000 follower‚Äù
          per i post IG, adattate per segmento (Casual, Emergente, Pro, Agenzia) e piattaforma
          (Instagram, TikTok, YouTube, Twitch). I valori sono allineati a quelli pi√π ripetuti sul web.
        </div>
      </div>

      <div class="faq-item">
        <div class="faq-q">Posso usare ForCreators con pi√π profili?</div>
        <div class="faq-a">
          S√¨. Se gestisci pi√π profili (es. agenzia), il sistema tiene conto del numero di account e ti
          assegna il piano <strong>Top Agenzia</strong> con pricing che cresce in base ai profili gestiti.
        </div>
      </div>

      <div class="faq-item">
        <div class="faq-q">I brand vedono direttamente i miei dati?</div>
        <div class="faq-a">
          I brand non hanno accesso automatico al tuo account. Puoi condividere tu stesso screenshot o
          estratti del tuo media kit ForCreators quando ti candidi a una campagna.
        </div>
      </div>

      <div class="faq-item">
        <div class="faq-q">Come vengono gestiti i miei dati?</div>
        <div class="faq-a">
          Salviamo i dati minimi necessari per generare il tuo media kit (email, piattaforma, username,
          follower, profili gestiti). Nessun accesso diretto al tuo account social: inserisci solo numeri
          e username, non le credenziali dei social.
        </div>
      </div>
    </div>
  </section>

  <!-- CONTATTI -->
  <section id="contatti">
    <h2 class="page-title">Contatta ForCreators</h2>
    <p class="page-subtitle">
      Scrivici per collaborazioni, domande sui piani, richieste lato brand o suggerimenti sul prodotto.
    </p>

    <div class="contact-grid">
      <div class="dash-card">
        <h3>Modulo di contatto</h3>
        <p style="font-size:0.85rem;color:var(--text-muted);margin-bottom:10px;">
          Compila il form, riceveremo la tua richiesta direttamente dal sistema.
        </p>

        <div class="field">
          <span class="field-label">Nome</span>
          <input type="text" id="cName" placeholder="Il tuo nome" />
        </div>
        <div class="field">
          <span class="field-label">Email</span>
          <input type="email" id="cEmail" placeholder="tu@email.com" />
        </div>
        <div class="field">
          <span class="field-label">Oggetto</span>
          <input type="text" id="cSubject" placeholder="Es. Collaborazione brand" />
        </div>
        <div class="field">
          <span class="field-label">Messaggio</span>
          <textarea id="cMessage" placeholder="Raccontaci in breve la tua richiesta..."></textarea>
        </div>

        <button class="primary-button" id="contactButton">
          <span class="icon">üì®</span>
          <span>Invia messaggio</span>
        </button>
        <p id="contactStatus" class="status-text"></p>
      </div>

      <div class="dash-card">
        <h3>Cosa facciamo con i tuoi messaggi</h3>
        <p style="font-size:0.85rem;color:var(--text-muted);margin-bottom:8px;">
          I messaggi inviati tramite questo modulo vengono salvati nel back-end dell‚Äôapp insieme a
          nome, email e oggetto. Possiamo usarli per risponderti, migliorare il prodotto o valutare
          nuove funzionalit√†.
        </p>
        <p style="font-size:0.85rem;color:var(--text-muted);">
          Non vendiamo a nessuno i tuoi dati di contatto. Se sei un brand, puoi indicarci anche un
          riferimento interno (es. ‚Äúufficio marketing‚Äù, ‚Äúagenzia partner‚Äù, ecc.) per semplificare il
          follow-up.
        </p>
      </div>
    </div>
  </section>
</main>

<footer>
  ¬© ForCreators. Segmenti e prezzi indicativi basati su follower e stime di reach.
</footer>

<script>
  let currentUserId = null;

  // TAB SIGNUP / LOGIN
  const tabSignup = document.getElementById("tab-signup");
  const tabLogin = document.getElementById("tab-login");
  const signupPanel = document.getElementById("signupPanel");
  const loginPanel = document.getElementById("loginPanel");

  tabSignup.addEventListener("click", () => {
    tabSignup.classList.add("active");
    tabLogin.classList.remove("active");
    signupPanel.classList.remove("hidden");
    loginPanel.classList.add("hidden");
  });

  tabLogin.addEventListener("click", () => {
    tabLogin.classList.add("active");
    tabSignup.classList.remove("active");
    loginPanel.classList.remove("hidden");
    signupPanel.classList.add("hidden");
  });

  // FORM ELEMENTS
  const signupButton = document.getElementById("signupButton");
  const signupStatus = document.getElementById("signupStatus");

  const suEmail = document.getElementById("suEmail");
  const suPassword = document.getElementById("suPassword");
  const suPlatform = document.getElementById("suPlatform");
  const suUsername = document.getElementById("suUsername");
  const suFollowers = document.getElementById("suFollowers");
  const suProfiles = document.getElementById("suProfiles");

  const loginButton = document.getElementById("loginButton");
  const loginStatus = document.getElementById("loginStatus");
  const liEmail = document.getElementById("liEmail");
  const liPassword = document.getElementById("liPassword");

  const dashboardDetailsSection = document.getElementById("dashboard-details");
  const dashBadge = document.getElementById("dashBadge");

  const segmentLabel = document.getElementById("segmentLabel");
  const segmentTag = document.getElementById("segmentTag");
  const segmentName = document.getElementById("segmentName");
  const segmentDesc = document.getElementById("segmentDesc");
  const priceMonthly = document.getElementById("priceMonthly");
  const priceYearly = document.getElementById("priceYearly");
  const priceNote = document.getElementById("priceNote");

  const infoEmail = document.getElementById("infoEmail");
  const infoPlatform = document.getElementById("infoPlatform");
  const infoUsername = document.getElementById("infoUsername");
  const infoFollowers = document.getElementById("infoFollowers");
  const infoProfiles = document.getElementById("infoProfiles");

  const mediaKitButton = document.getElementById("mediaKitButton");
  const mediaKitStatus = document.getElementById("mediaKitStatus");

  const mkTitle = document.getElementById("mkTitle");
  const mkSubtitle = document.getElementById("mkSubtitle");
  const mkContent = document.getElementById("mkContent");
  const mkProfile = document.getElementById("mkProfile");
  const mkSegment = document.getElementById("mkSegment");
  const mkFollowers = document.getElementById("mkFollowers");
  const mkPostViews = document.getElementById("mkPostViews");
  const mkStoryViews = document.getElementById("mkStoryViews");
  const mkPostPrice = document.getElementById("mkPostPrice");
  const mkStoryPrice = document.getElementById("mkStoryPrice");
  const mkBundlePrice = document.getElementById("mkBundlePrice");

  const tipsLevel = document.getElementById("tipsLevel");
  const tipsSummary = document.getElementById("tipsSummary");
  const tipsList = document.getElementById("tipsList");

  // CONTATTI
  const contactButton = document.getElementById("contactButton");
  const contactStatus = document.getElementById("contactStatus");
  const cName = document.getElementById("cName");
  const cEmail = document.getElementById("cEmail");
  const cSubject = document.getElementById("cSubject");
  const cMessage = document.getElementById("cMessage");

  function setStatus(el, msg, type = "") {
    el.textContent = msg || "";
    el.classList.remove("error", "success");
    if (type) el.classList.add(type);
  }

  function formatPrice(value) {
    if (value === null || value === undefined || isNaN(value)) return "-";
    const v = Number(value);
    if (v === 0) return "0 ‚Ç¨";
    return v.toFixed(2).replace(".", ",") + " ‚Ç¨";
  }

  function segmentLabelText(segment) {
    if (segment === "casual") return 'Casual ¬∑ profilo "sport"';
    if (segment === "emerging") return "Emergente ¬∑ primi passi nel mondo brand";
    if (segment === "pro") return "Creator Pro ¬∑ collaborazioni strutturate";
    if (segment === "agency") return "Top / Agenzia ¬∑ gestione profili importanti";
    return "Profilo";
  }

  async function loadProfileTips(userId) {
    try {
      const res = await fetch(`/api/profile-tips?user_id=${encodeURIComponent(userId)}`);
      if (!res.ok) {
        tipsLevel.textContent = "Nessun consiglio disponibile.";
        tipsSummary.textContent = "Si √® verificato un errore nel recupero dei suggerimenti.";
        tipsList.innerHTML = "";
        return;
      }
      const tips = await res.json();
      tipsLevel.textContent = tips.level || "Suggerimenti profilo";
      tipsSummary.textContent = tips.summary || "";
      tipsList.innerHTML = "";
      if (Array.isArray(tips.tips)) {
        tips.tips.forEach((t) => {
          const li = document.createElement("li");
          li.textContent = t;
          tipsList.appendChild(li);
        });
      }
    } catch (err) {
      tipsLevel.textContent = "Errore nei suggerimenti.";
      tipsSummary.textContent = "Controlla la connessione e riprova.";
      tipsList.innerHTML = "";
    }
  }

  function fillDashboardFromUser(data) {
    const plan = data.plan;
    currentUserId = data.user_id;

    const segment = data.segment;
    dashBadge.textContent = segmentLabelText(segment);

    segmentLabel.textContent = plan.label;
    segmentName.textContent = segment.toUpperCase();
    segmentDesc.textContent = plan.description;

    if (plan.monthly_price === 0) {
      priceMonthly.textContent = "0 ‚Ç¨";
      priceYearly.textContent = "0 ‚Ç¨";
    } else {
      priceMonthly.textContent = formatPrice(plan.monthly_price);
      if (plan.yearly_price === null || typeof plan.yearly_price === "undefined") {
        priceYearly.textContent = "‚Äî";
      } else {
        priceYearly.textContent = formatPrice(plan.yearly_price);
      }
    }
    priceNote.textContent = plan.billing_note || "";

    infoEmail.textContent = data.email;
    infoPlatform.textContent = data.main_platform;
    infoUsername.textContent = data.username;
    infoFollowers.textContent = data.followers.toLocaleString("it-IT");
    infoProfiles.textContent = data.profiles_count;

    dashboardDetailsSection.classList.remove("hidden");
    dashboardDetailsSection.scrollIntoView({ behavior: "smooth", block: "start" });

    if (currentUserId) {
      loadProfileTips(currentUserId);
    }
  }

  // SIGNUP
  signupButton.addEventListener("click", async () => {
    const email = suEmail.value.trim();
    const password = suPassword.value.trim();
    const platform = suPlatform.value;
    const username = suUsername.value.trim();
    const followers = Number(suFollowers.value);
    const profiles = Number(suProfiles.value || "1");

    if (!email || !password || !username || isNaN(followers)) {
      setStatus(signupStatus, "Compila tutti i campi obbligatori.", "error");
      return;
    }
    if (password.length < 6) {
      setStatus(signupStatus, "Password troppo corta (minimo 6 caratteri).", "error");
      return;
    }
    if (followers < 0) {
      setStatus(signupStatus, "Follower non validi.", "error");
      return;
    }

    setStatus(signupStatus, "Creo l'account e calcolo il segmento...", "");
    setStatus(loginStatus, "", "");
    setStatus(mediaKitStatus, "", "");

    try {
      const res = await fetch("/api/signup", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({
          email,
          password,
          main_platform: platform,
          username,
          followers,
          profiles_count: profiles || 1
        })
      });
      if (!res.ok) {
        const data = await res.json().catch(() => ({}));
        setStatus(signupStatus, data.detail || "Errore durante la registrazione.", "error");
        return;
      }
      const data = await res.json();
      const userRes = await fetch(`/api/user?user_id=${encodeURIComponent(data.user_id)}`);
      if (!userRes.ok) {
        setStatus(signupStatus, "Errore nel recupero dati utente.", "error");
        return;
      }
      const userData = await userRes.json();
      setStatus(signupStatus, "Account creato. Segmento calcolato.", "success");
      fillDashboardFromUser(userData);
    } catch (err) {
      setStatus(signupStatus, "Errore di rete.", "error");
    }
  });

  // LOGIN
  loginButton.addEventListener("click", async () => {
    const email = liEmail.value.trim();
    const password = liPassword.value.trim();
    if (!email || !password) {
      setStatus(loginStatus, "Inserisci email e password.", "error");
      return;
    }
    setStatus(loginStatus, "Verifico i dati di accesso...", "");
    setStatus(signupStatus, "", "");
    setStatus(mediaKitStatus, "", "");

    try {
      const res = await fetch("/api/login", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ email, password })
      });
      if (!res.ok) {
        const data = await res.json().catch(() => ({}));
        setStatus(loginStatus, data.detail || "Errore durante il login.", "error");
        return;
      }
      const data = await res.json();
      const userRes = await fetch(`/api/user?user_id=${encodeURIComponent(data.user_id)}`);
      if (!userRes.ok) {
        setStatus(loginStatus, "Errore nel recupero dati utente.", "error");
        return;
      }
      const userData = await userRes.json();
      setStatus(loginStatus, "Accesso effettuato.", "success");
      fillDashboardFromUser(userData);
    } catch (err) {
      setStatus(loginStatus, "Errore di rete.", "error");
    }
  });

  // MEDIA KIT
  mediaKitButton.addEventListener("click", async () => {
    if (!currentUserId) {
      setStatus(mediaKitStatus, "Crea o carica prima un account.", "error");
      return;
    }
    setStatus(mediaKitStatus, "Genero il media kit con i prezzi suggeriti...", "");
    try {
      const res = await fetch(`/api/media-kit?user_id=${encodeURIComponent(currentUserId)}`);
      if (!res.ok) {
        const data = await res.json().catch(() => ({}));
        setStatus(mediaKitStatus, data.detail || "Errore nel media kit.", "error");
        return;
      }
      const kit = await res.json();
      setStatus(mediaKitStatus, "Media kit aggiornato.", "success");

      mkTitle.textContent = `Media kit per ${kit.username}`;
      mkSubtitle.textContent = "Numeri chiave del profilo e prezzi consigliati per i tuoi contenuti.";
      mkProfile.textContent = `${kit.username} su ${kit.main_platform}`;
      mkSegment.textContent = kit.segment_label;
      mkFollowers.textContent = kit.followers.toLocaleString("it-IT");
      mkPostViews.textContent = kit.estimated.post_avg_views.toLocaleString("it-IT");
      mkStoryViews.textContent = kit.estimated.story_avg_views.toLocaleString("it-IT");

      mkPostPrice.textContent = formatPrice(kit.suggested_rates_eur.single_post);
      mkStoryPrice.textContent = formatPrice(kit.suggested_rates_eur.single_story);
      mkBundlePrice.textContent = formatPrice(kit.suggested_rates_eur.bundle_post_3stories);

      mkContent.classList.remove("hidden");
    } catch (err) {
      setStatus(mediaKitStatus, "Errore di rete.", "error");
    }
  });

  // CONTATTI
  function setContactStatus(msg, type = "") {
    contactStatus.textContent = msg || "";
    contactStatus.classList.remove("error", "success");
    if (type) contactStatus.classList.add(type);
  }

  contactButton.addEventListener("click", async () => {
    const name = cName.value.trim();
    const email = cEmail.value.trim();
    const subject = cSubject.value.trim();
    const message = cMessage.value.trim();

    if (!name || !email || !subject || !message) {
      setContactStatus("Compila tutti i campi.", "error");
      return;
    }

    setContactStatus("Invio in corso...", "");

    try {
      const res = await fetch("/api/contact", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ name, email, subject, message })
      });
      if (!res.ok) {
        const data = await res.json().catch(() => ({}));
        setContactStatus(data.detail || "Errore durante l'invio del messaggio.", "error");
        return;
      }
      await res.json();
      setContactStatus("Messaggio ricevuto. Ti risponderemo il prima possibile.", "success");
      cName.value = "";
      cEmail.value = "";
      cSubject.value = "";
      cMessage.value = "";
    } catch (err) {
      setContactStatus("Errore di rete. Controlla la connessione e riprova.", "error");
    }
  });
</script>
</body>
</html>
